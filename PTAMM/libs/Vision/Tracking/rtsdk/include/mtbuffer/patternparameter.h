#pragma once

//////////////////////////////////////////////////////////////////////////
/// \ingroup Buffer
/// \brief Temporary data structure for detection and matching of marker class.
///
/// Used by marker detection to store the detected rectangle patterns.
//////////////////////////////////////////////////////////////////////////
template<class T>
class pattern_parameter
{
public:
	//////////////////////////////////////////////////////////////////////////
	/// bounding rectangle corner as direction
	//////////////////////////////////////////////////////////////////////////
	std::vector<std::pair<T, T> > corners;

	//////////////////////////////////////////////////////////////////////////
	/// the bounding lines in general form, ax+by+c = 0.
	//////////////////////////////////////////////////////////////////////////
	T lines[4][3];

	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////

	//////////////////////////////////////////////////////////////////////////
	/// true for valid, false for invalid.
	std::vector<bool> status;	

	//////////////////////////////////////////////////////////////////////////
	/// analytic parameters of the ellipse.
	T x[5];

	//////////////////////////////////////////////////////////////////////////
	/// best corner's index.
	int neffcorner;
};
