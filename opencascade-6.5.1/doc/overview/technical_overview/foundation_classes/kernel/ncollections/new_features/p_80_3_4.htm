<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<head>
<title>Allocator</title>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<meta name="generator" content="RoboHelp by eHelp Corporation www.ehelp.com">
<link rel="stylesheet" href="../../../../../html_ns_ns_nc_ns.css"><script type="text/javascript" language="JavaScript" title="WebHelpSplitCss">
<!--
if (navigator.appName !="Netscape")
{   document.write("<link rel='stylesheet' href='../../../../../html_ns_ns_nc.css'>");}
//-->
</script>
<script LANGUAGE="JavaScript" TITLE="BSSC Special Effects" src="../../../../../ehlpdhtm.js" name="EHELP_DHTM"></script>

<script type="text/javascript" language="JavaScript" title="WebHelpInlineScript">
<!--
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//-->
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute; left:0px; top:0px; z-index:4; visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style><script type="text/javascript" language="javascript1.2" src="../../../../../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../../../../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../../../../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../../../../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../../../../whtopic.js"></script>
<script type="text/javascript" language="javascript1.2">
<!--
if (window.gbWhTopic)
{
	if (window.setRelStartPage)
	{
	addTocInfo("Technical Overview\nFoundation Classes\nKernel\nNCollections\nFeatures\nAllocator");
addAvenueInfo("Kernel","technical_overview/foundation_classes/kernel/ncollections/new_features/p_80_3_3.htm","");
addButton("show",BTN_IMG,"Show","","","","",0,0,"../../../../../whd_show0.gif","../../../../../whd_show2.gif","../../../../../whd_show1.gif");
addButton("hide",BTN_IMG,"Hide","","","","",0,0,"../../../../../whd_hide0.gif","../../../../../whd_hide2.gif","../../../../../whd_hide1.gif");
addButton("prev",BTN_IMG,"<<","","","","",0,0,"../../../../../whd_prev0.gif","../../../../../whd_prev2.gif","../../../../../whd_prev1.gif");
addButton("next",BTN_IMG,">>","","","","",0,0,"../../../../../whd_next0.gif","../../../../../whd_next2.gif","../../../../../whd_next1.gif");

	}


	if (window.setRelStartPage)
	{
	setRelStartPage("../../../../../index.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}

}
else
	if (window.gbIE4)
		document.location.reload();
//-->
</script>
</head>
<body><script type="text/javascript" language="javascript1.2">
<!--
if (window.writeIntopicBar)
	writeIntopicBar(4);
//-->
</script>
<p class=ReleaseNotes-1>Allocator</p>

<p>&nbsp;</p>

<p>All constructors of NCollection classes receive the Allocator Object 
 as the last parameter. This is an object of a type managed by Handle, 
 inheriting NCollection_BaseAllocator, with the following (mandatory) methods 
 redefined:</p>

<p class=Normal-code
	style="margin-right: 6.00pt;">Standard_EXPORT virtual void* <font style="font-weight: bold;">Allocate 
 </font>(const size_t size); </p>

<p class=Normal-code
	style="margin-right: 6.00pt;">Standard_EXPORT virtual void <font style="font-weight: bold;">Free</font> 
 (void * anAddress);</p>

<p>It is used internally every time when the collection allocates memory 
 for its item(s) and releases this memory. The default value of this parameter 
 (empty Handle) designates the use of NCollection_BaseAllocator X where 
 the functions Standard::Allocate and Standard::Free are called. Therefore 
 if the user of NCollection does not specify any allocator as a parameter 
 to the constructor of his collection, the memory management will be identical 
 to the one in TCollection and other Open CASCADE Technology classes.</p>

<p>Nevertheless, the user can define his/her own Allocator type to manage 
 the memory in the most optimal or convenient way for his algorithms.</p>

<p>As one possible choice, the class NCollection_IncAllocator is included. 
 Unlike BaseAllocator, it owns all memory it allocates from the system. 
 Memory is allocated in big blocks (about 20kB) and the allocator keeps 
 track of the amount of occupied memory. The method Allocate just increments 
 the pointer to non-occupied memory and returns its previous value. Memory 
 is only released in the destructor of IncAllocator, the method Free is 
 empty. If used efficiently, this Allocator can greatly improve the performance 
 of OCCT collections.</p>

<script type="text/javascript" language="javascript1.2">
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);
//-->
</script>
</body>
</html>
